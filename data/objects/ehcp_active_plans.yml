---
nodes:
- name: ehcp_active_plans
  fields:
  - name: active_ehcp_id
    type: VARCHAR()
    description: Plan ID
    field_ref: EAP001A
    primary_key: true
    validators:
    - required:
        enabled: true
    - unique:
        enabled: true
    categories:
    - send
    - ehcp_request
    - ehcp
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:active_ehcp_id
    - mosaic:active_ehcp_id
    cms_table:
    - liquid_logic:ehcp_active_plans
    - mosaic:ehcp_active_plans
  - name: ehcp_request_id
    type: VARCHAR()
    description: Request ID
    field_ref: EAP002A
    foreign_key: ehcp_requests.ehcp_request_id
    categories:
    - send
    - ehcp_request
    - ehcp
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:ehcp_request_id
    - mosaic:ehcp_request_id
    cms_table:
    - liquid_logic:ehcp_active_plans
    - mosaic:ehcp_active_plans
  - name: active_ehcp_last_review
    type: DATE
    description: Last Review
    field_ref: EAP003A
    categories:
    - send
    - ehcp_request
    - ehcp
    returns:
    - SEN2
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:active_ehcp_last_review
    - mosaic:active_ehcp_last_review
    cms_table:
    - liquid_logic:ehcp_active_plans
    - mosaic:ehcp_active_plans
