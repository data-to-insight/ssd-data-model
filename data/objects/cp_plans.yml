---
nodes:
- name: cp_plans
  fields:
  - name: cp_plan_id
    description: CP Plan ID
    item_ref: CPP001A
    type: string
    primary_key: true
    validators:
    - required:
        enabled: true
    - unique:
        enabled: true
    categories:
    - child_protection
    - cp_plan
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:cp_plan_id
    - mosaic:cp_plan_id
    cms_table:
    - liquid_logic:cp_plans
    - mosaic:cp_plans
    guidance: CP Plan unique ID from system or auto-generated as part of export. This
      module contains information on child protection plans. A child can have none,
      one or more than one child protection plan (CPP). A child who is not in need
      cannot have a child protection plan. The collection allows more than one plan
      review date to be provided and all reviews within the year should be included.
      A child protection plan being transferred from another local authority should
      be recorded as a new plan, even if the child had previously received services
      in the local authority they are transferring to.
  - name: la_person_id
    description: Person Unique ID
    item_ref: CPP002A
    type: string
    foreign_key: person.la_person_id
    validators:
    - required:
        enabled: true
    categories:
    - child_protection
    - cp_plan
    returns:
    - SSDA903
    - CINcensus
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:la_person_id
    - mosaic:la_person_id
    cms_table:
    - liquid_logic:cp_plans
    - mosaic:cp_plans
    guidance: See PER001A
  - name: cpp_start_date
    description: CP Plan Start Date
    item_ref: CPP003A
    type: date
    categories:
    - child_protection
    - cp_plan
    returns:
    - CINcensus
    - AnnexA
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:cpp_start_date
    - mosaic:cpp_start_date
    cms_table:
    - liquid_logic:cp_plans
    - mosaic:cp_plans
    guidance: If a child is the subject of a child protection plan, enter the start
      date of that plan, using the formatting covered in the general notes. Otherwise,
      leave blank.
  - name: cpp_end_date
    description: CP Plan End Date
    item_ref: CPP004A
    type: date
    categories:
    - child_protection
    - cp_plan
    returns:
    - CINcensus
    - AnnexA
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:cpp_end_date
    - mosaic:cpp_end_date
    cms_table:
    - liquid_logic:cp_plans
    - mosaic:cp_plans
    guidance: Enter the end date of the plan, using the formatting covered in the
      general notes. Otherwise, leave blank.
  - name: cpp_team
    description: CP Plan Allocated Team
    item_ref: CPP005A
    categories:
    - child_protection
    - cp_plan
    returns:
    - AnnexA
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:cpp_team
    - mosaic:cpp_team
    cms_table:
    - liquid_logic:cp_plans
    - mosaic:cp_plans
    guidance: Allocated Team responsible for CP Plan
  - name: cpp_worker_id
    description: CP Plan Allocated Worker ID
    item_ref: CPP006A
    foreign_key: social_worker.sw_id
    categories:
    - child_protection
    - cp_plan
    returns:
    - AnnexA
    cms:
    - liquid_logic
    - mosaic
    cms_field:
    - liquid_logic:cpp_worker_id
    - mosaic:cpp_worker_id
    cms_table:
    - liquid_logic:cp_plans
    - mosaic:cp_plans
    guidance: Allocated worker responsible for CP Plan
